(this.webpackJsonpmy_app=this.webpackJsonpmy_app||[]).push([[0],{186:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){"use strict";n.r(t);n(90),n(82);var a=n(4),c=n.n(a),r=n(88),o=n.n(r),i=(n(186),n(187),n(29)),s=n.n(i),u=n(52),m=n(51),l=n(34);n(189);function f(e){return c.a.createElement("div",{className:"img"},c.a.createElement("img",{src:e.poster}))}var p=function(e){return c.a.createElement("div",{className:"movie-item",key:e.index},c.a.createElement("div",{className:"movie-item-inner"},c.a.createElement(f,{poster:e.poster}),c.a.createElement("div",{className:"movie-item-info"},c.a.createElement("p",{className:"movie-item-tit"},e.title),c.a.createElement("p",{className:"movie-item-genres"},e.genres),c.a.createElement("p",{className:"movie-item-synopsis"},e.synopsis)),c.a.createElement("div",{className:"movie-item-likes"},"likes...")))};var v=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),i=Object(l.a)(o,2),f=i[0],v=i[1],d=Object(a.useState)(2),E=Object(l.a)(d,2),h=E[0],g=E[1],b=Object(a.useRef)(!1);Object(a.useEffect)((function(){j()}),[]),Object(a.useEffect)((function(){f&&document.body.classList.add("onloaded")}),[f]),Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(m.a)(s.a.mark((function e(){var t,a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.pageYOffset,a=document.documentElement.offsetHeight,c=document.documentElement.clientHeight,!(t+c>a-window.innerHeight/2)){e.next=12;break}if(b.current){e.next=12;break}return console.log("Movies Request"),b.current=!0,e.next=9,w(20,h);case 9:o=e.sent,r((function(e){return[].concat(Object(u.a)(e),Object(u.a)(o))})),console.log(n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return document.addEventListener("scroll",e),function(){document.removeEventListener("scroll",e)}}),[n,b,h]);var j=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(20,1);case 2:t=e.sent,r(t),v(!0),console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t){return fetch("https://yts.mx/api/v2/list_movies.json?sort_by=like_count&limit=".concat(e,"&page=").concat(t)).then((function(e){return e.json()})).then((function(e){return b.current=!1,g((function(e){return e+1})),e.data.movies})).catch((function(e){console.log(e)}))};return c.a.createElement("div",{className:"movie-list"},c.a.createElement("div",{className:"movie-list-inner"},n?n.map((function(e,t){return c.a.createElement(p,{title:e.title,poster:e.medium_cover_image,key:t,genres:e.genres,synopsis:e.synopsis})})):"Loading..."))};var d=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,n){e.exports=n(190)}},[[89,1,2]]]);
//# sourceMappingURL=main.15d44636.chunk.js.map